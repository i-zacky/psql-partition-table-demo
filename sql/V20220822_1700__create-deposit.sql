CREATE TABLE IF NOT EXISTS deposit (
    id varchar(26) NOT NULL,
    deposit_date date NOT NULL,
    currency varchar(3),
    fx_rate decimal(8, 4),
    amount decimal(17, 4),
    PRIMARY KEY (id, deposit_date)
) PARTITION BY RANGE (deposit_date);

-- partition of 2020-01-01 ~ 2020-12-31
CREATE TABLE deposit_y2020m01 PARTITION OF deposit FOR VALUES FROM ('2020-01-01') TO ('2020-02-01');
CREATE TABLE deposit_y2020m02 PARTITION OF deposit FOR VALUES FROM ('2020-02-01') TO ('2020-03-01');
CREATE TABLE deposit_y2020m03 PARTITION OF deposit FOR VALUES FROM ('2020-03-01') TO ('2020-04-01');
CREATE TABLE deposit_y2020m04 PARTITION OF deposit FOR VALUES FROM ('2020-04-01') TO ('2020-05-01');
CREATE TABLE deposit_y2020m05 PARTITION OF deposit FOR VALUES FROM ('2020-05-01') TO ('2020-06-01');
CREATE TABLE deposit_y2020m06 PARTITION OF deposit FOR VALUES FROM ('2020-06-01') TO ('2020-07-01');
CREATE TABLE deposit_y2020m07 PARTITION OF deposit FOR VALUES FROM ('2020-07-01') TO ('2020-08-01');
CREATE TABLE deposit_y2020m08 PARTITION OF deposit FOR VALUES FROM ('2020-08-01') TO ('2020-09-01');
CREATE TABLE deposit_y2020m09 PARTITION OF deposit FOR VALUES FROM ('2020-09-01') TO ('2020-10-01');
CREATE TABLE deposit_y2020m10 PARTITION OF deposit FOR VALUES FROM ('2020-10-01') TO ('2020-11-01');
CREATE TABLE deposit_y2020m11 PARTITION OF deposit FOR VALUES FROM ('2020-11-01') TO ('2020-12-01');
CREATE TABLE deposit_y2020m12 PARTITION OF deposit FOR VALUES FROM ('2020-12-01') TO ('2021-01-01');

-- partition of 2021-01-01 ~ 2021-12-31
CREATE TABLE deposit_y2021m01 PARTITION OF deposit FOR VALUES FROM ('2021-01-01') TO ('2021-02-01');
CREATE TABLE deposit_y2021m02 PARTITION OF deposit FOR VALUES FROM ('2021-02-01') TO ('2021-03-01');
CREATE TABLE deposit_y2021m03 PARTITION OF deposit FOR VALUES FROM ('2021-03-01') TO ('2021-04-01');
CREATE TABLE deposit_y2021m04 PARTITION OF deposit FOR VALUES FROM ('2021-04-01') TO ('2021-05-01');
CREATE TABLE deposit_y2021m05 PARTITION OF deposit FOR VALUES FROM ('2021-05-01') TO ('2021-06-01');
CREATE TABLE deposit_y2021m06 PARTITION OF deposit FOR VALUES FROM ('2021-06-01') TO ('2021-07-01');
CREATE TABLE deposit_y2021m07 PARTITION OF deposit FOR VALUES FROM ('2021-07-01') TO ('2021-08-01');
CREATE TABLE deposit_y2021m08 PARTITION OF deposit FOR VALUES FROM ('2021-08-01') TO ('2021-09-01');
CREATE TABLE deposit_y2021m09 PARTITION OF deposit FOR VALUES FROM ('2021-09-01') TO ('2021-10-01');
CREATE TABLE deposit_y2021m10 PARTITION OF deposit FOR VALUES FROM ('2021-10-01') TO ('2021-11-01');
CREATE TABLE deposit_y2021m11 PARTITION OF deposit FOR VALUES FROM ('2021-11-01') TO ('2021-12-01');
CREATE TABLE deposit_y2021m12 PARTITION OF deposit FOR VALUES FROM ('2021-12-01') TO ('2022-01-01');
